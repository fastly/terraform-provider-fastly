---
layout: "fastly"
page_title: "Fastly: kvstore"
sidebar_current: "docs-fastly-resource-kvstore"
description: |-
  Provides a persistent, globally consistent key-value store accessible to Compute@Edge services during request processing.
---

# fastly_kvstore

Provides a persistent, globally consistent key-value store accessible to Compute@Edge services during request processing.

-> **Note** The `kv_store` feature does not support seeding the store with data. This is because the size of objects that can be stored is very large and Terraform is designed for containing [configuration, not data](https://developer.fastly.com/learning/integrations/orchestration/terraform/#configuration-not-data). You should use either the [Fastly CLI](https://developer.fastly.com/learning/tools/cli/), [Fastly API](https://developer.fastly.com/reference/api/) or one of the available [Fastly API Clients](https://developer.fastly.com/reference/api/#clients) to populate your KV Store.

## Example Usage

Basic usage:

```terraform
resource "fastly_kvstore" "example" {
  name = "my_kv_store"

  # Provide a service to link the KV Store to.
  resource_link {
    service_id      = fastly_service_compute.example.id
    service_version = 1
  }
}

resource "fastly_service_compute" "example" {
  name = "my_compute_service"

  domain {
    name = "demo.example.com"
  }

  package {
    filename         = "package.tar.gz"
    source_code_hash = data.fastly_package_hash.example.hash
  }

  force_destroy = true
}

data "fastly_package_hash" "example" {
  filename = "package.tar.gz"
}
```

## Import

Fastly KV Stores can be imported using their Store ID, e.g.

```sh
$ terraform import fastly_kvstore.example xxxxxxxxxxxxxxxxxxxx
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) A unique name to identify the KV Store. It is important to note that changing this attribute will delete and recreate the KV Store, and discard the current entries.

### Optional

- `force_destroy` (Boolean) Allow the KV store to be deleted, even if it contains entries. Defaults to false.
- `resource_link` (Block Set) Resource you want to link the KV Store to. (see [below for nested schema](#nestedblock--resource_link))

### Read-Only

- `id` (String) The ID of this resource.
- `store_id` (String) The ID of the KV Store.

<a id="nestedblock--resource_link"></a>
### Nested Schema for `resource_link`

Required:

- `service_id` (String) Alphanumeric string identifying the service.
- `service_version` (Number) Integer identifying a service version.
